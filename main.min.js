function nonRepeatingRandom(){}function listInList(a,b){for(inFlag=!1,i=0;i<a.length;i++)b.indexOf(a[i])!=-1&&(inFlag=!0);return inFlag}function removeListInList(a,b){for(i=0;i<a.length;i++)indx=b.indexOf(a[i]),b.splice(indx,1);return b}function updateOptions(a,b){0==selectedButtons?($("#current_char").slideToggle("slow"),$("#buttons").slideToggle("slow"),$("#noSelection").slideToggle("slow")):($("#current_char").slideToggle("slow"),$("#buttons").slideToggle("slow"),$("#noSelection").slideToggle("slow"));var c=[],e=[];if(a.length>=5)for(;5!=c.length&&0!=a.length;)randomNumber=Math.floor(Math.random()*a.length),c.indexOf(randomNumber)==-1&&c.push(randomNumber);else for(b=a.length;c.length!=characters.length&&0!=a.length;)randomNumber=Math.floor(Math.random()*a.length),c.indexOf(randomNumber)==-1&&c.push(randomNumber);for(i=0;i<c.length;i++)e.push(a[c[i]]);for(i=0;i<5;i++)currentButton="#option"+String(i),$(currentButton).hide();for(i=0;i<b;i++)currentButton="#option"+String(i),$(currentButton)[0].innerHTML=e[i],$(currentButton).show();var f=Math.floor(Math.random()*b);return currentChar=e[f],$("#character").attr("src","hiragana_chars/"+currentChar+".png"),currentChar}function main(){$("#chart").hide();var a=["a","i","u","e","o"],ka=["ka","ki","ku","ke","ko"],sa=["sa","shi","su","se","so"],ta=["ta","chi","tsu","te","to"],na=["na","ni","nu","ne","no"],ha=["ha","hi","fu","he","ho"],ma=["ma","mi","mu","me","mo"],ya=["ya","yu","yo"],ra=["ra","ri","ru","re","ro"],wa=["wa","wo"],n=["n"];selectedButtons=0,characters=[],currentChar="a",lastCharacter=-1,$("#current_char").hide(),$("#buttons").hide(),$(".chars").click(function(){charsToAdd=eval(this.innerHTML),listInList(charsToAdd,characters)?(characters=removeListInList(charsToAdd,characters),$(this).css("background","white"),$(this).css("color","black"),selectedButtons-=1):(characters=characters.concat(charsToAdd),$(this).css("background","black"),$(this).css("color","white"),selectedButtons+=1),currentChar=updateOptions(characters,nOptions)}),$(".practiceToggle").click(function(){$("#chart").slideToggle("slow"),$("#practice").slideToggle("slow"),"Study hiragana chart"==this.innerHTML?this.innerHTML="Practice hiragana":this.innerHTML="Study hiragana chart"}),nOptions=5,$(".opt").click(function(){$("#character")[0],currentChar==this.innerHTML?$("#body_").attr("bgcolor","lightblue"):$("#body_").attr("bgcolor","red"),currentChar=updateOptions(characters,nOptions)})}$(document).ready(function(){main()});